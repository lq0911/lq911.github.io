<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ­¦æ±‰æ–‡ç†å­¦é™¢ Â· æ ¡å›­æ‹¼æ‹¼ä¹</title>
    <!-- å…¬å…±å­—ä½“ & å›¾æ ‡åº“ (å–è‡ªç™»å½•é¡µ) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,400;14..32,600;14..32,700;14..32,800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* ========== å…¨å±€é‡ç½® & å¯¼èˆªæ ·å¼ (å–è‡ªç™»å½•é¡µnavï¼Œç»Ÿä¸€) ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(145deg, #eef5fc 0%, #dbeafe 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0 1.5rem 1.5rem;
            position: relative;
        }
        body::before {
            content: "";
            position: absolute;
            inset: 0;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" opacity="0.03"><path fill="%231d3d6b" d="M20 20h10v60H20zM40 30h10v50H40zM60 25h10v55H60zM80 35h10v45H80z"/><circle cx="25" cy="12" r="4" fill="%231d3d6b"/><circle cx="45" cy="22" r="4" fill="%231d3d6b"/><circle cx="65" cy="17" r="4" fill="%231d3d6b"/><circle cx="85" cy="27" r="4" fill="%231d3d6b"/></svg>');
            background-repeat: repeat;
            pointer-events: none;
        }

        /* ä¸»å¯¼èˆªæ  (ç»Ÿä¸€) */
        nav {
            background-color: #2c3e50;
            width: 100%;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            position: sticky;
            top: 0;
            z-index: 100;
            margin-bottom: 2rem;
            border-radius: 0 0 20px 20px;
        }
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }
        nav a {
            color: white;
            text-decoration: none;
            padding: 15px 25px;
            display: inline-block;
            transition: background-color 0.3s ease;
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        nav a:hover {
            background-color: #34495e;
            color: #f1c40f;
        }
        nav a.active {
            background-color: #1abc9c;
            color: white;
        }

        /* ========== é¡µé¢å®¹å™¨ï¼šæ‰€æœ‰æ¿å—é»˜è®¤éšè—ï¼Œä»…æ´»åŠ¨æ¿å—æ˜¾ç¤º ========== */
        .page {
            display: none;
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            animation: fade 0.2s ease;
        }
        .page.active-page {
            display: block;
        }
        @keyframes fade { from { opacity:0.3; } to { opacity:1; } }

        /* ---------- ç™»å½•é¡µé¢æ ·å¼ (æµ“ç¼©è‡ªç™»å½•.html) ---------- */
        .login-container {
            max-width: 520px;
            margin: 0 auto;
            z-index: 10;
        }
        .login-card {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(16px) saturate(180%);
            -webkit-backdrop-filter: blur(16px) saturate(180%);
            border-radius: 64px;
            padding: 2.5rem 2.5rem 3rem;
            box-shadow: 0 40px 60px -20px rgba(18, 45, 80, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.6) inset;
            border: 1px solid rgba(255,255,255,0.8);
        }
        .univ-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .univ-icon {
            background: linear-gradient(135deg, #1f4f8f, #103262);
            width: 70px;
            height: 70px;
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 12px 0 #0b2442, 0 10px 20px rgba(0,20,50,0.3);
        }
        .univ-icon i {
            font-size: 2.8rem;
            color: #ffd966;
            filter: drop-shadow(2px 4px 0 #b0651a);
        }
        .univ-title h1 {
            font-size: 2.2rem;
            font-weight: 800;
            color: #112f4b;
        }
        .univ-title p {
            font-weight: 600;
            color: #26648b;
        }
        .input-field {
            margin-bottom: 1.8rem;
        }
        .input-field label {
            font-weight: 700;
            color: #1b3f60;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 0.5rem;
        }
        .input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }
        .input-wrapper input {
            width: 100%;
            padding: 1.2rem 1.5rem 1.2rem 3.2rem;
            font-size: 1.2rem;
            background: #ffffff;
            border: 3px solid #c5daf2;
            border-radius: 60px;
            outline: none;
            font-weight: 500;
            color: #0f2e48;
            box-shadow: 0 6px 0 #b0c9e3, 0 4px 10px rgba(0,0,0,0.02);
        }
        .input-wrapper input:focus {
            border-color: #faa51a;
            box-shadow: 0 6px 0 #e08d10, 0 0 0 4px #ffe1a4;
        }
        .input-wrapper i {
            position: absolute;
            left: 1.4rem;
            font-size: 1.4rem;
            color: #26648b;
            opacity: 0.7;
        }
        .hint-badge {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 0.5rem 1rem;
            margin: 0.5rem 0 1.8rem;
            background: #e3efff;
            padding: 0.7rem 1.5rem;
            border-radius: 60px;
            font-weight: 600;
            color: #154d7a;
            border: 1px solid #b6d3f5;
        }
        .badge-years {
            background: #154d7a;
            color: white;
            padding: 0.2rem 1rem;
            border-radius: 40px;
            font-size: 0.9rem;
            font-weight: 700;
        }
        .login-btn {
            background: linear-gradient(145deg, #2169af, #124b82);
            width: 100%;
            border: none;
            border-radius: 80px;
            padding: 1.2rem 2rem;
            font-size: 2rem;
            font-weight: 800;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            box-shadow: 0 18px 0 #0a3052, 0 10px 20px rgba(0, 35, 70, 0.4);
            cursor: pointer;
            transition: 0.08s linear;
            margin-top: 1.5rem;
        }
        .login-btn:active {
            transform: translateY(12px);
            box-shadow: 0 6px 0 #0a3052, 0 8px 16px rgba(0, 35, 70, 0.4);
        }
        .validation-msg {
            margin-top: 1.5rem;
            padding: 0.9rem 1.8rem;
            border-radius: 60px;
            background: rgba(235, 245, 255, 0.8);
            backdrop-filter: blur(4px);
            font-weight: 600;
            color: #274d6b;
            border: 1px solid #b0cff0;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .demo-note {
            margin-top: 1rem;
            font-size: 0.95rem;
            color: #3471a1;
        }
        .footer-note {
            text-align: center;
            margin-top: 1.2rem;
            color: #1c4970;
            font-weight: 600;
            font-size: 0.95rem;
        }

        /* ---------- å°é¢é¡µé¢æ ·å¼ (å–è‡ªå°é¢.html) ---------- */
        .cover-container {
            max-width: 900px;
            margin: 0 auto;
            text-align: center;
        }
        .header-area {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }
        .logo {
            width: 80px;
            height: auto;
        }
        .cover-container h1 {
            color: #ff6b6b;
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        .main-img {
            width: 100%;
            max-width: 800px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        .desc {
            color: #333;
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 40px;
        }
        .btn {
            display: inline-block;
            padding: 12px 30px;
            background-color: #ffd166;
            color: #333;
            text-decoration: none;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            transition: background-color 0.3s;
            border: none;
            cursor: pointer;
        }
        .btn:hover {
            background-color: #ffc43d;
        }

        /* ---------- å…³äºæˆ‘ä»¬é¡µé¢æ ·å¼ (å–è‡ªå…³äºæˆ‘ä»¬.htmlï¼Œå»é™¤äº†å¤šä½™å¯¼èˆª) ---------- */
        .about-container {
            max-width: 1080px;
            margin: 0 auto;
            padding: 0 20px;
        }
        .about-container .navbar {
            background: linear-gradient(90deg, #4a90e2, #63b3ed);
            padding: 18px 0;
            box-shadow: 0 2px 10px rgba(74, 144, 226, 0.2);
            border-radius: 0 0 20px 20px;
            margin-bottom: 30px;
        }
        .about-container .logo-area {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        .about-container .logo-area .logo {
            width: 60px;
        }
        .about-container .logo-area h1 {
            color: white;
            font-size: 1.8rem;
        }
        .section-title {
            text-align: center;
            margin-bottom: 40px;
        }
        .section-title h2 {
            font-size: 2.4rem;
            color: #4e97d1;
            display: inline-block;
            position: relative;
        }
        .section-title h2::after {
            content: "";
            width: 50%;
            height: 3px;
            background: #f0ad4e;
            position: absolute;
            bottom: -8px;
            left: 25%;
        }
        .about-text {
            background: white;
            padding: 35px 45px;
            border-radius: 12px;
            box-shadow: 0 3px 12px rgba(0,0,0,0.05);
            margin-bottom: 50px;
        }
        .about-text p {
            margin-bottom: 22px;
            font-size: 1.1rem;
            line-height: 1.8;
        }
        .image-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }
        .image-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.07);
            transition: transform 0.3s;
        }
        .image-card:hover {
            transform: translateY(-7px);
        }
        .image-card img {
            width: 100%;
            height: 220px;
            object-fit: cover;
        }
        .image-card .card-info {
            padding: 20px;
            text-align: center;
            font-size: 1.05rem;
            color: #555;
            font-weight: 500;
        }
        .slogan-box {
            background: #e8f4fc;
            padding: 25px;
            border-radius: 8px;
            text-align: center;
            font-size: 1.2rem;
            font-weight: 600;
            border-left: 6px solid #4e97d1;
            margin: 40px 0;
        }

        /* ---------- æ‹¼æ‹¼ä¹é¡µé¢æ ·å¼ (å–è‡ªæ‹¼æ‹¼ä¹.htmlï¼Œå»é™¤åŸå¯¼èˆª) ---------- */
        .pinpinle-container .app-container {
            max-width: 1400px;
            width: 100%;
            margin: 0 auto;
        }
        .pinpinle-container .header {
            margin-bottom: 2rem;
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            flex-wrap: wrap;
        }
        .pinpinle-container .header h1 {
            font-size: 2.5rem;
            font-weight: 600;
            background: linear-gradient(145deg, #1e2b5e, #2f3e7c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .pinpinle-container .main-panel {
            display: grid;
            grid-template-columns: 360px 1fr;
            gap: 2rem;
            align-items: start;
        }
        .publish-card {
            background: white;
            border-radius: 28px;
            padding: 1.8rem 1.5rem;
            box-shadow: 0 20px 35px -8px rgba(26, 35, 60, 0.15);
            border: 1px solid rgba(255,255,255,0.5);
        }
        .publish-card h2 {
            font-size: 1.6rem;
            font-weight: 600;
            color: #121826;
            margin-bottom: 1.8rem;
            display: flex;
            gap: 0.5rem;
        }
        .form-group {
            margin-bottom: 1.25rem;
        }
        .form-group label {
            display: block;
            font-size: 0.9rem;
            font-weight: 500;
            color: #2c3a5e;
            margin-bottom: 0.35rem;
        }
        .form-group input, 
        .form-group select, 
        .form-group textarea {
            width: 100%;
            padding: 0.85rem 1.2rem;
            border: 1.5px solid #e2e8f0;
            border-radius: 20px;
            font-size: 0.95rem;
            background: #fafcff;
            outline: none;
        }
        .form-group input:focus, 
        .form-group select:focus, 
        .form-group textarea:focus {
            border-color: #3b4e8c;
            box-shadow: 0 0 0 3px rgba(59, 78, 140, 0.15);
        }
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.8rem;
        }
        .btn.primary {
            background: #1e2b5e;
            color: white;
            border: none;
            padding: 1rem 1.8rem;
            border-radius: 40px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 8px 18px -6px #1e2b5e60;
            width: 100%;
        }
        .btn.primary:hover {
            background: #253b7a;
        }
        .btn.secondary {
            background: white;
            color: #1e2b5e;
            border: 2px solid #dde3ed;
            width: 100%;
            margin-top: 0.5rem;
            padding: 0.9rem;
            border-radius: 40px;
            font-weight: 600;
            cursor: pointer;
        }
        .filter-bar {
            display: flex;
            gap: 0.6rem;
            margin-bottom: 1.8rem;
            flex-wrap: wrap;
            background: white;
            padding: 0.6rem;
            border-radius: 60px;
            width: fit-content;
            border: 1px solid #eaedf4;
        }
        .filter-btn {
            padding: 0.6rem 1.6rem;
            border-radius: 40px;
            border: none;
            background: transparent;
            font-weight: 500;
            color: #3c4a6b;
            cursor: pointer;
        }
        .filter-btn.active {
            background: #1e2b5e;
            color: white;
            box-shadow: 0 4px 12px #b0c0e0;
        }
        .activities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        .activity-card {
            background: white;
            border-radius: 26px;
            padding: 1.5rem 1.3rem 1.3rem;
            box-shadow: 0 12px 28px -10px rgba(25, 35, 55, 0.12);
            border: 1px solid #ffffff80;
            position: relative;
        }
        .activity-card.expired {
            opacity: 0.7;
            background: #f6f8fc;
        }
        .card-badge {
            display: inline-block;
            padding: 0.25rem 1rem;
            background: #eef2ff;
            border-radius: 40px;
            font-size: 0.75rem;
            font-weight: 600;
            color: #1e2b5e;
            margin-bottom: 1rem;
        }
        .route {
            font-size: 1.2rem;
            font-weight: 550;
            margin: 0.5rem 0;
            color: #2c3e5a;
        }
        .time-info {
            background: #f8faff;
            border-radius: 18px;
            padding: 0.7rem 1rem;
            margin: 1rem 0;
            border: 1px dashed #aab9da;
        }
        .delete-btn {
            background: transparent;
            border: none;
            color: #b3c0d9;
            font-size: 1.4rem;
            cursor: pointer;
            position: absolute;
            bottom: 10px;
            right: 15px;
        }
        .delete-btn:hover {
            color: #c0203a;
        }
        .toast-message {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: #1e2b5ee0;
            color: white;
            padding: 0.9rem 2rem;
            border-radius: 60px;
            z-index: 1000;
            transition: opacity 0.2s;
            pointer-events: none;
        }
        @media (max-width: 800px) {
            .pinpinle-container .main-panel {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- ç»Ÿä¸€å¯¼èˆªæ ï¼ˆç‚¹å‡»åˆ‡æ¢é¡µé¢ï¼‰ -->
    <nav>
        <div class="nav-container">
            <a href="#" id="nav-login" class="active" data-page="login-page">é¦–é¡µ</a>
            <a href="#" id="nav-cover" data-page="cover-page">å°é¢</a>
            <a href="#" id="nav-about" data-page="about-page">å…³äºæˆ‘ä»¬</a>
            <a href="#" id="nav-pinpinle" data-page="pinpinle-page">æ‹¼æ‹¼ä¹</a>
        </div>
    </nav>

    <!-- ç™»å½•é¡µé¢æ¿å— -->
    <div id="login-page" class="page active-page">
        <div class="login-container">
            <div class="login-card">
                <div class="univ-header">
                    <div class="univ-icon"><i class="fas fa-university"></i></div>
                    <div class="univ-title">
                        <h1>æ­¦æ±‰æ–‡ç†å­¦é™¢</h1>
                        <p><i class="fas fa-leaf" style="color:#479f5e;"></i> å­¦å·Â·å§“åç™»å½•</p>
                    </div>
                </div>
                <div class="input-field">
                    <label><i class="fas fa-id-card"></i> å­¦å· <span style="font-weight:400; margin-left:auto; font-size:0.9rem;">12ä½æ•°å­—</span></label>
                    <div class="input-wrapper">
                        <i class="fas fa-user-graduate"></i>
                        <input type="text" id="studentId" placeholder="2024xxxxxxxx" value="202360123456" maxlength="12" inputmode="numeric">
                    </div>
                </div>
                <div class="input-field">
                    <label><i class="fas fa-signature"></i> å§“å</label>
                    <div class="input-wrapper">
                        <i class="fas fa-pen"></i>
                        <input type="text" id="studentName" placeholder="æå" value="å¼ æ˜è½©">
                    </div>
                </div>
                <div class="hint-badge">
                    <i class="fas fa-lightbulb"></i>
                    <span>å­¦å·å‰å››ä½å¿…é¡»åœ¨ <span class="badge-years">2021 â€” 2024</span> ä¹‹é—´</span>
                </div>
                <button class="login-btn" id="loginBtn"><i class="fas fa-arrow-right-to-bracket"></i> ç™» å½•</button>
                <div class="validation-msg" id="validationMessage">
                    <i class="fas fa-circle-info"></i>
                    <span id="msgText">ç­‰å¾…éªŒè¯</span>
                </div>
                <div class="demo-note">
                    <i class="fas fa-magic"></i> ç¤ºä¾‹å­¦å·: 202160123456 Â· 202260123456 Â· 202360123456 Â· 202460123456
                </div>
            </div>
            <div class="footer-note"><i class="fas fa-shield-alt"></i> ä»…é™æ­¦æ±‰æ–‡ç†å­¦é™¢åœ¨æ ¡ç”Ÿ Â· å­¦å·éªŒè¯</div>
        </div>
    </div>

    <!-- å°é¢é¡µé¢æ¿å— -->
    <div id="cover-page" class="page">
        <div class="cover-container">
            <div class="header-area">
                <img class="logo" src="logo.jpg" alt="æ ¡å›­æ‹¼æ‹¼ä¹logo" onerror="this.src='https://via.placeholder.com/80?text=Logo'">
                <h1>æ ¡å›­æ‹¼æ‹¼ä¹ï¼Œç”Ÿæ´»æ›´æ¬¢ä¹ï¼</h1>
            </div>
            <img class="main-img" src="1.jpg" alt="æ ¡å›­æ‹¼æ‹¼ä¹æ’ç”»" onerror="this.src='https://via.placeholder.com/800x400?text=Cover+Image'">
            <p class="desc">æŠŠæ ¡å›­é‡Œçš„å¿«ä¹éƒ½â€œæ‹¼â€åœ¨ä¸€èµ·~ ä¸€èµ·å¼€å¯æœ‰è¶£çš„æ ¡å›­æ—…ç¨‹å§ï¼</p>
            <button class="btn" id="gotoPinpinleBtn">åŠ å…¥æ‹¼æ‹¼ä¹</button>
        </div>
    </div>

    <!-- å…³äºæˆ‘ä»¬é¡µé¢æ¿å— -->
    <div id="about-page" class="page">
        <div class="about-container">
            <div class="navbar">
                <div class="logo-area">
                    <img class="logo" src="logo.jpg" alt="æ ¡å›­æ‹¼æ‹¼ä¹logo" onerror="this.src='https://via.placeholder.com/60?text=Logo'">
                    <h1>æ ¡å›­æ‹¼æ‹¼ä¹</h1>
                </div>
            </div>
            <div class="section-title"><h2>å…³äºæˆ‘ä»¬</h2></div>
            <div class="about-text">
                <p>æ ¡å›­æ‹¼æ‹¼ä¹ï¼Œæ˜¯ä¸“ä¸ºæ­¦æ±‰æ–‡ç†å­¦é™¢å­¦å­é‡èº«æ‰“é€ çš„ä¸€ç«™å¼æ ¡å›­ç»„é˜Ÿæ‹¼å•å¹³å°ã€‚</p>
            <p>åœ¨è¿™é‡Œï¼Œæ ¡å›­æ‹¼æ‹¼ä¹è‡´åŠ›äºä¸ºæ¯ä¸€ä½åŒå­¦è§£å†³æ—¥å¸¸å‡ºè¡Œä¸æ ¡å›­ç»„é˜Ÿçš„çœŸå®éš¾é¢˜ï¼Œæä¾›ä¸€ç«™å¼ä¾¿æ·æœåŠ¡ã€‚é’ˆå¯¹æ ¡åŒºä½ç½®åè¿œã€å¤–å‡ºäº¤é€šä¸ä¾¿çš„é—®é¢˜ï¼Œå¹³å°æ‰“é€ é«˜æ•ˆæ‹¼è½¦åŠŸèƒ½ï¼Œæ— è®ºæ˜¯å‰å¾€åœ°é“ç«™ã€å•†åœˆï¼Œ
                è¿˜æ˜¯èŠ‚å‡æ—¥å‡ºè¡Œï¼Œéƒ½èƒ½å¿«é€ŸåŒ¹é…åŒè¡Œä¼™ä¼´ï¼Œå¤§å®¶å¹³æ‘Šè½¦è´¹ã€çœæ—¶çœé’±ï¼Œå‘Šåˆ«ç‹¬è‡ªä¹˜è½¦çš„æ˜‚è´µä¸å­¤å•ï¼Œè®©å¤–å‡ºå‡ºè¡Œæ›´åŠ ç»æµã€å®‰å¿ƒã€é«˜æ•ˆã€‚</p>
            </div>
            <div class="image-group">
                <div class="image-card"><img src="2.jpg" onerror="this.src='https://via.placeholder.com/300x220?text=æ‹¼è½¦'"><div class="card-info">ä¸€é”®æ‹¼è½¦ Â· å‡ºè¡Œæˆæœ¬è½»æ¾æ‘Š</div></div>
                <div class="image-card"><img src="3.jpg" onerror="this.src='https://via.placeholder.com/300x220?text=ç«èµ›'"><div class="card-info"></div></div>
                <div class="image-card"><img src="4.jpg" onerror="this.src='https://via.placeholder.com/300x220?text=ç»“ä¼´'"><div class="card-info"></div></div>
            </div>
            <div class="about-text">
                <p>åŒæ—¶ï¼Œå¹³å°ä¸æ­¢äºæ‹¼è½¦ï¼Œæ›´è¦†ç›–ä¸°å¯Œçš„æ ¡å›­ç”Ÿæ´»åœºæ™¯ã€‚æ— è®ºæ˜¯å„ç±»å­¦ç§‘ç«èµ›ã€åˆ›æ–°åˆ›ä¸šæ¯”èµ›ã€æ–‡ä½“æ´»åŠ¨ï¼Œè¿˜æ˜¯ç¤¾å›¢ç»„é˜Ÿã€å­¦ä¹ äº’åŠ©ã€å…´è¶£ç»“ä¼´ï¼Œä½ éƒ½å¯ä»¥åœ¨è¿™é‡Œå¿«é€Ÿæ‰¾åˆ°å¿—åŒé“
                åˆçš„é˜Ÿå‹ã€‚ä¸ç”¨å†å››å¤„æ‰“å¬ã€è‹¦è‹¦å‡‘äººï¼Œåªéœ€ç®€å•å‘å¸ƒéœ€æ±‚ï¼Œå°±èƒ½ç²¾å‡†å¯¹æ¥ç›®æ ‡ä¼™ä¼´ï¼Œè®©ç»„é˜Ÿä¸å†ç¹çï¼Œè®©æ¯ä¸€ä»½æƒ³æ³•ä¸çƒ­æƒ…éƒ½èƒ½æ‰¾åˆ°åŒè¡Œè€…ã€‚</p>
            </div>
            <div class="image-group">
                <div class="image-card"><img src="5.jpg" onerror="this.src='https://via.placeholder.com/300x220?text=æ‹¼è½¦'"><div class="card-info">è½»æ¾ç»“ä¼´ Â· ç»„é˜Ÿåä½œä¸å­¤å•</div></div>
                <div class="image-card"><img src="6.jpg" onerror="this.src='https://via.placeholder.com/300x220?text=ç«èµ›'"><div class="card-info"></div></div>
                
               </div>
               <div class="about-text">
               <p>æ ¡å›­æ‹¼æ‹¼ä¹ä»¥æœåŠ¡åŒå­¦ä¸ºåˆå¿ƒï¼Œç”¨ç®€æ´ä¾¿æ·çš„æ“ä½œï¼Œæ‰“é€šæ ¡å›­å†…çš„ä¿¡æ¯å£å’ï¼ŒæŠŠæœ‰ç›¸åŒéœ€æ±‚çš„åŒå­¦å‡èšåœ¨ä¸€èµ·ã€‚åœ¨è¿™é‡Œï¼Œå‡ºè¡Œæ›´åˆ’ç®—ï¼Œç»„é˜Ÿæ›´é«˜æ•ˆï¼Œå‚ä¸æ´»åŠ¨æ›´ç§¯æï¼Œè®©åŸæœ¬éº»çƒ¦çš„äº‹æƒ…å˜å¾—ç®€å•è½»æ¾ã€‚æˆ‘ä»¬å¸Œæœ›ç”¨å°å°çš„
                å¹³å°ï¼Œè¿æ¥å¤§å¤§çš„æ¸©æš–ï¼Œè®©æ¯ä¸€ä½åŒå­¦éƒ½èƒ½äº«å—ä¾¿åˆ©çš„æ ¡å›­ç”Ÿæ´»ï¼Œåœ¨ç»“ä¼´åŒè¡Œä¸­æ”¶è·å‹è°Šã€æˆé•¿ä¸ç²¾å½©ï¼Œè®©æ ¡å›­ç”Ÿæ´»æ›´åŠ å……å®ã€æœ‰è¶£ã€æœ‰æ¸©åº¦ã€‚</p>
        
            </div>
            <div class="image-group">
                <div class="image-card"><img src="7.jpg" onerror="this.src='https://via.placeholder.com/300x220?text=æ‹¼è½¦'"><div class="card-info">æ¸©æš–é™ªä¼´ Â· æ ¡å›­ç”Ÿæ´»æ›´æœ‰æ¸©åº¦</div></div>
                <div class="image-card"><img src="8.jpg" onerror="this.src='https://via.placeholder.com/300x220?text=ç«èµ›'"><div class="card-info"></div></div>
                
            </div>
            <div class="slogan-box">å°‘ä¸€åˆ†ç¹çï¼Œå¤šä¸€ä»½é™ªä¼´â€”â€”æ ¡å›­æ‹¼æ‹¼ä¹ï¼Œè®©ä½ çš„æ ¡å›­ç”Ÿæ´»æ›´é«˜æ•ˆã€æ›´åˆ’ç®—ã€æ›´æœ‰æ¸©åº¦</div>
        </div>
    </div>

    <!-- æ‹¼æ‹¼ä¹é¡µé¢æ¿å— -->
    <div id="pinpinle-page" class="page">
        <div class="pinpinle-container">
            <div class="app-container">
                <div class="header">
                    <h1>ğŸš€ æ‹¼æ‹¼ç½‘ Â· æ´»åŠ¨æ­å­</h1>
                    <p>ğŸ“ å‘å¸ƒé‚€è¯· Â· çœŸå®ä¿¡æ¯ Â· æ‹¼è½¦/ç«èµ›/ç»„é˜Ÿ</p>
                </div>
                <div class="main-panel">
                    <div class="publish-card">
                        <h2>ğŸ“¢ å‘å¸ƒé‚€è¯· <span>ä¿¡æ¯å‡†ç¡®</span></h2>
                        <form id="publishForm">
                            <div class="form-group">
                                <label>æ´»åŠ¨ç±»å‹ *</label>
                                <select id="activityType" required>
                                    <option value="æ‹¼è½¦">ğŸš— æ‹¼è½¦</option>
                                    <option value="å­¦ç§‘ç«èµ›æ‹¼äºº">ğŸ“ å­¦ç§‘ç«èµ›æ‹¼äºº</option>
                                    <option value="å…¶ä»–">ğŸ”„ å…¶ä»–ç»„é˜Ÿ</option>
                                </select>
                            </div>
                            <div class="form-row">
                                <div class="form-group"><label>èµ·ç‚¹ *</label><input type="text" id="startPoint" placeholder="ä¾‹å¦‚: æ­¦æ±‰æ–‡ç†å­¦é™¢" required></div>
                                <div class="form-group"><label>ç»ˆç‚¹ *</label><input type="text" id="endPoint" placeholder="ä¾‹å¦‚: é«˜è½¦åœ°é“ç«™" required></div>
                            </div>
                            <div class="form-group"><label>æ´»åŠ¨æ—¶é—´ *</label><input type="datetime-local" id="activityTime" required></div>
                            <div class="form-row">
                                <div class="form-group"><label>å‘å¸ƒäºº *</label><input type="text" id="publisher" placeholder="å§“å/æ˜µç§°" required></div>
                                <div class="form-group"><label>è”ç³»æ–¹å¼</label><input type="text" id="contact" placeholder="æ‰‹æœº/å¾®ä¿¡/QQ"></div>
                            </div>
                            <div class="form-group"><label>å¤‡æ³¨</label><textarea id="note" rows="2" placeholder="ä¾‹å¦‚: è¿˜æœ‰2ä¸ªåº§ä½ / æ‰¾æ•°å­¦å»ºæ¨¡é˜Ÿå‹..."></textarea></div>
                            <button type="button" class="btn primary" id="publishBtn">âœ¨ å‘å¸ƒæ´»åŠ¨é‚€è¯·</button>
                            <button type="button" class="btn secondary" id="clearFormBtn">æ¸…ç©ºè¡¨å•</button>
                        </form>
                    </div>
                    <div class="feed-section">
                        <div class="filter-bar">
                            <button class="filter-btn active" data-filter="all">ğŸ“‹ å…¨éƒ¨</button>
                            <button class="filter-btn" data-filter="æ‹¼è½¦">ğŸš— æ‹¼è½¦</button>
                            <button class="filter-btn" data-filter="å­¦ç§‘ç«èµ›æ‹¼äºº">ğŸ“ å­¦ç§‘ç«èµ›</button>
                            <button class="filter-btn" data-filter="å…¶ä»–">ğŸ”„ å…¶ä»–</button>
                        </div>
                        <div id="activitiesContainer" class="activities-grid"></div>
                        <div class="footer-note">â±ï¸ æŒ‰æ´»åŠ¨æ—¶é—´æ’åº Â· è¿‡æœŸæ´»åŠ¨åŠé€æ˜æ˜¾ç¤º</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- å…¨å±€toast -->
    <div id="toast" class="toast-message" style="opacity:0;">âœ… æ“ä½œæˆåŠŸ</div>

    <!-- åˆå¹¶åçš„è„šæœ¬ï¼šç™»å½•éªŒè¯ + æ‹¼æ‹¼ä¹åŠŸèƒ½ + é¡µé¢åˆ‡æ¢ + ç™»å½•å®ˆå« -->
    <script>
        (function() {
            // ---------- é¡µé¢åˆ‡æ¢æ¨¡å— ----------
            const pages = {
                login: document.getElementById('login-page'),
                cover: document.getElementById('cover-page'),
                about: document.getElementById('about-page'),
                pinpinle: document.getElementById('pinpinle-page')
            };
            const navLinks = {
                login: document.getElementById('nav-login'),
                cover: document.getElementById('nav-cover'),
                about: document.getElementById('nav-about'),
                pinpinle: document.getElementById('nav-pinpinle')
            };

            function showPage(pageId) {
                // éšè—æ‰€æœ‰é¡µé¢
                Object.values(pages).forEach(p => p.classList.remove('active-page'));
                // æ˜¾ç¤ºé€‰ä¸­é¡µé¢
                document.getElementById(pageId).classList.add('active-page');
                // æ›´æ–°å¯¼èˆªactiveç±»
                Object.keys(navLinks).forEach(key => {
                    const link = navLinks[key];
                    if (key === 'login' && pageId === 'login-page') link.classList.add('active');
                    else if (key === 'cover' && pageId === 'cover-page') link.classList.add('active');
                    else if (key === 'about' && pageId === 'about-page') link.classList.add('active');
                    else if (key === 'pinpinle' && pageId === 'pinpinle-page') link.classList.add('active');
                    else link.classList.remove('active');
                });
            }

            // ç™»å½•å®ˆå«ï¼šåªæœ‰ç™»å½•æ‰èƒ½è®¿é—®å°é¢/å…³äº/æ‹¼æ‹¼ä¹
            function isLoggedIn() {
                return sessionStorage.getItem('loggedIn') === 'true';
            }

            function requireLogin(targetPage) {
                if (!isLoggedIn() && targetPage !== 'login-page') {
                    alert('è¯·å…ˆç™»å½•');
                    showPage('login-page');
                    return false;
                }
                return true;
            }

            // å¯¼èˆªç‚¹å‡»å¤„ç†
            navLinks.login.addEventListener('click', (e) => { e.preventDefault(); showPage('login-page'); });
            navLinks.cover.addEventListener('click', (e) => { 
                e.preventDefault(); 
                if (requireLogin('cover-page')) showPage('cover-page'); 
            });
            navLinks.about.addEventListener('click', (e) => { 
                e.preventDefault(); 
                if (requireLogin('about-page')) showPage('about-page'); 
            });
            navLinks.pinpinle.addEventListener('click', (e) => { 
                e.preventDefault(); 
                if (requireLogin('pinpinle-page')) {
                    showPage('pinpinle-page');
                    // å¦‚æœæ‹¼æ‹¼ä¹æ•°æ®å·²æ¸²æŸ“ä½†å¯èƒ½å› ä¸ºéšè—æœªæ›´æ–°ï¼Œä½†renderå·²åœ¨åˆå§‹åŒ–è°ƒç”¨ï¼Œæ— éœ€é¢å¤–æ“ä½œ
                }
            });

            // å°é¢é¡µâ€œåŠ å…¥æ‹¼æ‹¼ä¹â€æŒ‰é’®
            document.getElementById('gotoPinpinleBtn').addEventListener('click', () => {
                if (requireLogin('pinpinle-page')) showPage('pinpinle-page');
            });

            // ---------- ç™»å½•é€»è¾‘ (å–è‡ªç™»å½•.html) ----------
            const studentIdInput = document.getElementById('studentId');
            const studentNameInput = document.getElementById('studentName');
            const loginBtn = document.getElementById('loginBtn');
            const msgText = document.getElementById('msgText');
            const validationMsgDiv = document.getElementById('validationMessage');

            function validateStudentId(id) {
                const digitRegex = /^\d{12}$/;
                if (!digitRegex.test(id)) return { valid: false, message: 'âŒ å­¦å·å¿…é¡»ä¸º12ä½æ•°å­—' };
                const prefix = id.substring(0, 4);
                const prefixNum = parseInt(prefix, 10);
                if (prefixNum >= 2021 && prefixNum <= 2024) return { valid: true, message: `âœ… å­¦å·å‰ç¼€ ${prefix} ç¬¦åˆ (${prefixNum}çº§)` };
                else return { valid: false, message: `âŒ å­¦å·å‰å››ä½ ${prefix} ä¸åœ¨2021-2024èŒƒå›´å†…` };
            }

            function updateValidationUI() {
                const id = studentIdInput.value.trim();
                const name = studentNameInput.value.trim();
                if (name === '') {
                    msgText.innerText = 'â›” å§“åä¸èƒ½ä¸ºç©º';
                    validationMsgDiv.style.background = '#fff0dd';
                } else {
                    const result = validateStudentId(id);
                    msgText.innerText = result.valid ? `${result.message} Â· å§“å: ${name}` : result.message;
                    validationMsgDiv.style.background = result.valid ? '#e2f3e2' : '#ffe6e6';
                }
            }

            function handleLogin() {
                const id = studentIdInput.value.trim();
                const name = studentNameInput.value.trim();
                if (name === '') { alert('è¯·å¡«å†™å§“å'); updateValidationUI(); return; }
                const result = validateStudentId(id);
                if (result.valid) {
                    const yearPrefix = id.substring(0,4);
                    sessionStorage.setItem('loggedIn', 'true');
                    alert(`âœ… ç™»å½•æˆåŠŸï¼æ¬¢è¿ ${name} (${yearPrefix}çº§)`);
                    showPage('cover-page');   // ç™»å½•åè·³è½¬å°é¢
                } else {
                    alert(`âŒ ç™»å½•å¤±è´¥\n${result.message}`);
                    updateValidationUI();
                }
            }

            studentIdInput.addEventListener('input', updateValidationUI);
            studentNameInput.addEventListener('input', updateValidationUI);
            loginBtn.addEventListener('click', handleLogin);
            [studentIdInput, studentNameInput].forEach(input => {
                input.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleLogin(); });
            });
            updateValidationUI();

            // ---------- æ‹¼æ‹¼ä¹é€»è¾‘ (å–è‡ªæ‹¼æ‹¼ä¹.htmlï¼Œé€‚é…åˆå¹¶) ----------
            (function() {
                const STORAGE_KEY = 'pinpin_activities';
                let activities = [];
                let currentFilter = 'all';

                const container = document.getElementById('activitiesContainer');
                const filterBtns = document.querySelectorAll('.filter-btn');
                const publishBtn = document.getElementById('publishBtn');
                const clearFormBtn = document.getElementById('clearFormBtn');
                const toastEl = document.getElementById('toast');

                const typeSelect = document.getElementById('activityType');
                const startInput = document.getElementById('startPoint');
                const endInput = document.getElementById('endPoint');
                const timeInput = document.getElementById('activityTime');
                const publisherInput = document.getElementById('publisher');
                const contactInput = document.getElementById('contact');
                const noteInput = document.getElementById('note');

                function showToast(text, duration = 2000) {
                    toastEl.style.transition = 'opacity 0.2s';
                    toastEl.style.opacity = '1';
                    toastEl.innerText = text;
                    clearTimeout(window.toastTimer);
                    window.toastTimer = setTimeout(() => { toastEl.style.opacity = '0'; }, duration);
                }

                function parseLocalTime(timeStr) {
                    if (!timeStr) return new Date(NaN);
                    let parts = timeStr.split(/[T:-]/);
                    if (parts.length >= 5) {
                        return new Date(parseInt(parts[0]), parseInt(parts[1])-1, parseInt(parts[2]), parseInt(parts[3]), parseInt(parts[4]));
                    }
                    return new Date(NaN);
                }

                function formatDateShort(timeStr) {
                    let d = parseLocalTime(timeStr);
                    if (isNaN(d.getTime())) return timeStr || 'æ— æ•ˆæ—¶é—´';
                    return `${d.getMonth()+1}æœˆ${d.getDate()}æ—¥ ${d.getHours().toString().padStart(2,'0')}:${d.getMinutes().toString().padStart(2,'0')}`;
                }

                function isExpired(timeStr) {
                    let activityDate = parseLocalTime(timeStr);
                    return !isNaN(activityDate.getTime()) && activityDate < new Date();
                }

                function sortActivitiesByTime(acts) {
                    return [...acts].sort((a,b) => (parseLocalTime(a.time).getTime()||0) - (parseLocalTime(b.time).getTime()||0));
                }

                function saveToStorage() { localStorage.setItem(STORAGE_KEY, JSON.stringify(activities)); }

                function loadFromStorage() {
                    let stored = localStorage.getItem(STORAGE_KEY);
                    if (stored) {
                        try { activities = JSON.parse(stored); } catch { activities = []; }
                    } else {
                        activities = [
                            { id: Date.now()-100000, type:'æ‹¼è½¦', start:'æ­¦æ±‰æ–‡ç†å­¦é™¢', end:'é«˜è½¦åœ°é“ç«™', time:'2025-03-15T14:30', publisher:'ææ˜', contact:'138****1234', note:'è¿˜æœ‰2ä¸ªåº§ä½' },
                            { id: Date.now()-200000, type:'å­¦ç§‘ç«èµ›æ‹¼äºº', start:'å›¾ä¹¦é¦†', end:'æ•°å­¦å»ºæ¨¡èµ›åœº', time:'2025-03-20T09:00', publisher:'ç‹èŠ³', contact:'139****5678', note:'ç¼º2äººï¼Œæœ‰åŸºç¡€ä¼˜å…ˆ' },
                            { id: Date.now()-150000, type:'æ‹¼è½¦', start:'æ–‡ç†å­¦é™¢', end:'æ±‰å£ç«™', time:'2025-03-16T08:00', publisher:'é™ˆæ™¨', contact:'182****4321', note:'è¿˜æœ‰3ç©ºä½' }
                        ];
                    }
                    activities = activities.filter(a => a && a.type && a.start && a.end && a.time);
                    saveToStorage();
                }

                function render() {
                    let filtered = activities;
                    if (currentFilter !== 'all') filtered = activities.filter(act => act.type === currentFilter);
                    filtered = sortActivitiesByTime(filtered);
                    if (!filtered.length) {
                        container.innerHTML = `<div style="grid-column:1/-1; background:#f0f3fc; border-radius:40px; padding:3rem; text-align:center;">âœ¨ æš‚æ— æ´»åŠ¨ï¼Œç‚¹å‡»å‘å¸ƒï½</div>`;
                        return;
                    }
                    let html = '';
                    filtered.forEach(act => {
                        const expired = isExpired(act.time);
                        html += `
                            <div class="activity-card ${expired?'expired':''}" data-id="${act.id}">
                                <div class="card-badge">${act.type}</div>
                                <div class="route">ğŸ“ ${act.start} â†’ ${act.end}</div>
                                <div class="time-info">ğŸ•’ ${formatDateShort(act.time)} ${expired?'<span class="expired-tag">âŒ›å·²è¿‡æœŸ</span>':''}</div>
                                <div class="publisher">ğŸ‘¤ ${act.publisher || 'åŒ¿å'} <span class="contact">ğŸ“ ${act.contact || 'æœªæä¾›'}</span></div>
                                ${act.note ? `<div class="extra-note">ğŸ“ ${act.note}</div>` : ''}
                                <button class="delete-btn" onclick="removeActivity(${act.id})">âœ•</button>
                            </div>
                        `;
                    });
                    container.innerHTML = html;
                }

                window.removeActivity = function(id) {
                    if (!confirm('åˆ é™¤æ­¤æ´»åŠ¨ï¼Ÿ')) return;
                    activities = activities.filter(act => act.id !== id);
                    saveToStorage(); render(); showToast('ğŸ—‘ï¸ å·²åˆ é™¤');
                };

                function publishActivity() {
                    let type = typeSelect.value;
                    let start = startInput.value.trim();
                    let end = endInput.value.trim();
                    let time = timeInput.value;
                    let publisher = publisherInput.value.trim();
                    if (!type || !start || !end || !time || !publisher) {
                        showToast('âŒ è¯·å¡«å†™æ‰€æœ‰å¿…å¡«é¡¹', 2000); return;
                    }
                    let newAct = {
                        id: Date.now(),
                        type, start, end, time,
                        publisher,
                        contact: contactInput.value.trim(),
                        note: noteInput.value.trim()
                    };
                    activities.push(newAct);
                    saveToStorage(); render();
                    startInput.value = endInput.value = timeInput.value = publisherInput.value = contactInput.value = noteInput.value = '';
                    typeSelect.value = 'æ‹¼è½¦';
                    showToast('âœ… å‘å¸ƒæˆåŠŸ');
                }

                function resetForm() {
                    if (confirm('æ¸…ç©ºè¡¨å•ï¼Ÿ')) {
                        startInput.value = endInput.value = timeInput.value = publisherInput.value = contactInput.value = noteInput.value = '';
                        typeSelect.value = 'æ‹¼è½¦';
                    }
                }

                publishBtn.addEventListener('click', publishActivity);
                clearFormBtn.addEventListener('click', resetForm);
                filterBtns.forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        let filter = e.target.getAttribute('data-filter');
                        currentFilter = filter;
                        filterBtns.forEach(b => b.classList.remove('active'));
                        e.target.classList.add('active');
                        render();
                    });
                });

                loadFromStorage(); render();
                window.addEventListener('storage', (e) => { if (e.key === STORAGE_KEY) { loadFromStorage(); render(); } });
            })();

            // ---------- åˆå§‹åŒ–ï¼šå·²ç™»å½•ç›´æ¥æ˜¾ç¤ºå°é¢ï¼Œå¦åˆ™æ˜¾ç¤ºç™»å½• ----------
            if (isLoggedIn()) {
                showPage('cover-page');
            } else {
                showPage('login-page');
                sessionStorage.removeItem('loggedIn'); // ç¡®ä¿å¹²å‡€
            }
        })();
    </script>
</body>
</html>